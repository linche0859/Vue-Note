<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>組件系統的特性 | Vue 筆記</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/vue-note/favicon.ico">
    <meta name="description" content="">
    <link rel="preload" href="/vue-note/assets/css/0.styles.e0aa8866.css" as="style"><link rel="preload" href="/vue-note/assets/js/app.e8b69e61.js" as="script"><link rel="preload" href="/vue-note/assets/js/2.f6647d6e.js" as="script"><link rel="preload" href="/vue-note/assets/js/42.738ad309.js" as="script"><link rel="preload" href="/vue-note/assets/js/11.38d09ab9.js" as="script"><link rel="preload" href="/vue-note/assets/js/16.8410203c.js" as="script"><link rel="prefetch" href="/vue-note/assets/js/10.06232706.js"><link rel="prefetch" href="/vue-note/assets/js/12.d34c3166.js"><link rel="prefetch" href="/vue-note/assets/js/13.a0726f62.js"><link rel="prefetch" href="/vue-note/assets/js/14.1b8f4a7d.js"><link rel="prefetch" href="/vue-note/assets/js/15.8a295e89.js"><link rel="prefetch" href="/vue-note/assets/js/17.470338ab.js"><link rel="prefetch" href="/vue-note/assets/js/18.d5214eed.js"><link rel="prefetch" href="/vue-note/assets/js/19.3e68df67.js"><link rel="prefetch" href="/vue-note/assets/js/20.a8ac3b9c.js"><link rel="prefetch" href="/vue-note/assets/js/21.57dabc7f.js"><link rel="prefetch" href="/vue-note/assets/js/22.d6ae0051.js"><link rel="prefetch" href="/vue-note/assets/js/23.549bc1ea.js"><link rel="prefetch" href="/vue-note/assets/js/24.7cd65bd4.js"><link rel="prefetch" href="/vue-note/assets/js/25.3b5c38bd.js"><link rel="prefetch" href="/vue-note/assets/js/26.2e8a09d0.js"><link rel="prefetch" href="/vue-note/assets/js/27.638b520b.js"><link rel="prefetch" href="/vue-note/assets/js/28.384b5328.js"><link rel="prefetch" href="/vue-note/assets/js/29.34932f3a.js"><link rel="prefetch" href="/vue-note/assets/js/3.83f66368.js"><link rel="prefetch" href="/vue-note/assets/js/30.407c2048.js"><link rel="prefetch" href="/vue-note/assets/js/31.21ad81e8.js"><link rel="prefetch" href="/vue-note/assets/js/32.06bde36e.js"><link rel="prefetch" href="/vue-note/assets/js/33.b73c0222.js"><link rel="prefetch" href="/vue-note/assets/js/34.70bef625.js"><link rel="prefetch" href="/vue-note/assets/js/35.ee6f52ec.js"><link rel="prefetch" href="/vue-note/assets/js/36.c85d95a0.js"><link rel="prefetch" href="/vue-note/assets/js/37.45f1a8a6.js"><link rel="prefetch" href="/vue-note/assets/js/38.0086bce5.js"><link rel="prefetch" href="/vue-note/assets/js/39.16cd6808.js"><link rel="prefetch" href="/vue-note/assets/js/4.8041664b.js"><link rel="prefetch" href="/vue-note/assets/js/40.cbf820fe.js"><link rel="prefetch" href="/vue-note/assets/js/41.729243c1.js"><link rel="prefetch" href="/vue-note/assets/js/43.364d4d2b.js"><link rel="prefetch" href="/vue-note/assets/js/44.352b5ebd.js"><link rel="prefetch" href="/vue-note/assets/js/45.05621f2c.js"><link rel="prefetch" href="/vue-note/assets/js/46.016644f0.js"><link rel="prefetch" href="/vue-note/assets/js/47.eea9560a.js"><link rel="prefetch" href="/vue-note/assets/js/48.8972e79f.js"><link rel="prefetch" href="/vue-note/assets/js/49.c48c40ef.js"><link rel="prefetch" href="/vue-note/assets/js/5.0680fa9e.js"><link rel="prefetch" href="/vue-note/assets/js/50.a342d293.js"><link rel="prefetch" href="/vue-note/assets/js/51.de901d9f.js"><link rel="prefetch" href="/vue-note/assets/js/52.596c8b26.js"><link rel="prefetch" href="/vue-note/assets/js/53.17b6b658.js"><link rel="prefetch" href="/vue-note/assets/js/54.861b79c5.js"><link rel="prefetch" href="/vue-note/assets/js/55.da21b535.js"><link rel="prefetch" href="/vue-note/assets/js/56.0038a260.js"><link rel="prefetch" href="/vue-note/assets/js/57.1362e7e0.js"><link rel="prefetch" href="/vue-note/assets/js/58.9267fbe0.js"><link rel="prefetch" href="/vue-note/assets/js/59.8ca704eb.js"><link rel="prefetch" href="/vue-note/assets/js/6.3f07d1f7.js"><link rel="prefetch" href="/vue-note/assets/js/60.a215f600.js"><link rel="prefetch" href="/vue-note/assets/js/61.7830bebf.js"><link rel="prefetch" href="/vue-note/assets/js/62.4d692473.js"><link rel="prefetch" href="/vue-note/assets/js/63.8941b58f.js"><link rel="prefetch" href="/vue-note/assets/js/64.fd126c3f.js"><link rel="prefetch" href="/vue-note/assets/js/65.f9c388a7.js"><link rel="prefetch" href="/vue-note/assets/js/7.08f13176.js"><link rel="prefetch" href="/vue-note/assets/js/8.10f5ee65.js"><link rel="prefetch" href="/vue-note/assets/js/9.d0249aa3.js">
    <link rel="stylesheet" href="/vue-note/assets/css/0.styles.e0aa8866.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue-note/" class="home-link router-link-active"><!----> <span class="site-name">Vue 筆記</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/linche0859/vue-note" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/linche0859/vue-note" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>基礎入門</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>全局 API</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>實例方法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>組件系統</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-note/Component/feature.html" aria-current="page" class="active sidebar-link">組件系統的特性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-note/Component/feature.html#組件的分類與切分" class="sidebar-link">組件的分類與切分</a></li><li class="sidebar-sub-header"><a href="/vue-note/Component/feature.html#資料流" class="sidebar-link">資料流</a></li><li class="sidebar-sub-header"><a href="/vue-note/Component/feature.html#命名規則" class="sidebar-link">命名規則</a></li><li class="sidebar-sub-header"><a href="/vue-note/Component/feature.html#事件名規則" class="sidebar-link">事件名規則</a></li><li class="sidebar-sub-header"><a href="/vue-note/Component/feature.html#將網頁片段封裝為組件模板" class="sidebar-link">將網頁片段封裝為組件模板</a></li><li class="sidebar-sub-header"><a href="/vue-note/Component/feature.html#子組件的-data-必須是函式" class="sidebar-link">子組件的 data 必須是函式</a></li><li class="sidebar-sub-header"><a href="/vue-note/Component/feature.html#sync-修飾詞" class="sidebar-link">.sync 修飾詞</a></li><li class="sidebar-sub-header"><a href="/vue-note/Component/feature.html#vm-emit" class="sidebar-link">vm.$emit</a></li></ul></li><li><a href="/vue-note/Component/props.html" class="sidebar-link">組件之間的溝通傳遞</a></li><li><a href="/vue-note/Component/eventbus.html" class="sidebar-link">EventBus</a></li><li><a href="/vue-note/Component/is.html" class="sidebar-link">動態組件管理</a></li><li><a href="/vue-note/Component/slot.html" class="sidebar-link">Slot 插槽</a></li><li><a href="/vue-note/Component/transition.html" class="sidebar-link">漸變與動畫</a></li><li><a href="/vue-note/Component/global.html" class="sidebar-link">全域封裝</a></li><li><a href="/vue-note/Component/import-require.html" class="sidebar-link">import 和 require 的運用</a></li><li><a href="/vue-note/Component/loader.html" class="sidebar-link">沒有 webpack 打造 vue loader 環境</a></li><li><a href="/vue-note/Component/jsx.html" class="sidebar-link">渲染函式和 JSX</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue Router</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vuex</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Axios</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>範例應用</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Plugin</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>進階</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="組件系統的特性"><a href="#組件系統的特性" class="header-anchor">#</a> 組件系統的特性</h1> <h2 id="組件的分類與切分"><a href="#組件的分類與切分" class="header-anchor">#</a> 組件的分類與切分</h2> <p>常見的組件類型，大致可以分作這幾種類型：</p> <ul><li>展示型組件 (Presentation)
<ul><li>以負責呈現 UI 為主的類型，我們很單純地把資料傳遞進去，然後 DOM 就根據我們丟進去的資料生成出來。這種組件的好處是可以提升 UI 的重複使用性。</li></ul></li> <li>容器型組件 (Container)
<ul><li>這類型的組件主要負責與資料層的 service 溝通，包含了與 server 端、資料來源做溝通的邏輯，然後再將資料傳遞給前面所說的展示型組件。</li></ul></li> <li>互動型組件 (Interactive)
<ul><li>像是大家所熟知的 elementUI、bootstrap 的 UI library 都屬於此種類型。這種類型的組件通常會包含許多的互動邏輯在裡面，但也與展示型組件同樣強調重複使用。像是表單、燈箱等各種互動元素都算在這類型。</li></ul></li> <li>功能型組件 (Functions)
<ul><li>這類型的組件本身不渲染任何内容，主要負責將組件內容作為某種應用的延伸，或是某種機制的封裝。像是我們未來會提及的 <code>&lt;transition&gt;</code>、<code>&lt;router-view&gt;</code> 等都屬於此類型。</li></ul></li></ul> <h2 id="資料流"><a href="#資料流" class="header-anchor">#</a> 資料流</h2> <h3 id="使用向下傳遞資料"><a href="#使用向下傳遞資料" class="header-anchor">#</a> 使用向下傳遞資料</h3> <p>因為把資料寫固定在子組件，無法達到重複利用，因此要把資料提到上層，從父組件傳下來給子組件</p> <p><strong>父組件</strong></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> Navbar <span class="token keyword">from</span> <span class="token string">'@/components/Navbar'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> Container <span class="token keyword">from</span> <span class="token string">'@/components/Container'</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'learnComponent'</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
      Navbar<span class="token punctuation">,</span>
      Container<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        list<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            title<span class="token operator">:</span> <span class="token string">'Heading1'</span><span class="token punctuation">,</span>
            info<span class="token operator">:</span>
              <span class="token string">'Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. '</span><span class="token punctuation">,</span>
            btntext<span class="token operator">:</span> <span class="token string">'View details »'</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>learnComponent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Navbar</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Container</span> <span class="token attr-name">:list</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h2 id="命名規則"><a href="#命名規則" class="header-anchor">#</a> 命名規則</h2> <p>註冊組件的時候，可以使用首字大寫駝峰式的命名(pascal-case)：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'ChildItem'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  template<span class="token operator">:</span> <span class="token string">'#child-template'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>或是連字號(kebab-case)命名：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'child-item'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  template<span class="token operator">:</span> <span class="token string">'#child-template'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>但由於瀏覽器在解析 HTML 標籤的時候，並無大小寫之分，使用上必須改寫為連字號(kebab-case)標籤：</p> <blockquote><p>在 <strong>HTML 檔案</strong> 中，必須遵守 <strong>kebab-case</strong> 的使用方式。</p></blockquote> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child-item</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child-item</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>若是使用在 <code>.vue</code> 單一組件檔的 <code>&lt;template&gt;</code> 模板中，則無此限制。實務上仍建議一致使用 <strong>連字號命名法</strong> 最保險。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 在 .vue 檔案的模板中，最後都會被編譯為 JavaScript，所以兩種方式皆可 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child-item</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ChildItem</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="事件名規則"><a href="#事件名規則" class="header-anchor">#</a> 事件名規則</h2> <p><code>component</code> 中觸發一個 <code>camelCase</code> 名字的事件</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'myEvent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 没有效果 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name">@my-event</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>doSomething<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 有效果 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name">@myEvent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>doSomething<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">建議</p> <p>子組件 <code>$emit</code> 的事件名稱使用 <code>kabab-case</code>。</p> <p>父組件上綁定的事件名稱也使用 <code>kabab-case</code>。</p></div> <h2 id="將網頁片段封裝為組件模板"><a href="#將網頁片段封裝為組件模板" class="header-anchor">#</a> 將網頁片段封裝為組件模板</h2> <ol><li><p>透過 template 屬性封裝</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'MediaBlock'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
   &lt;div class=&quot;media&quot;&gt;
     &lt;img src=&quot;&quot; alt=&quot;&quot;&gt;
     &lt;div class=&quot;media-body&quot;&gt;
       &lt;h5&gt;&lt;/h5&gt;
       &lt;div&gt;Lorem, ipsum dolor.&lt;/div&gt;
     &lt;/div&gt;
   &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p>透過 x-template 封裝模板</p> <p>然而，隨著專案規模的擴增，我們的 HTML 模板結構可能會變得越來越大，光是用 <code>template</code> 屬性直接掛上 HTML 字串時，可能你的程式架構就會變得不是那麼好閱讀、管理。</p> <p>這時候，我們可以把整個 HTML 模板區塊透過 <code>&lt;script id=&quot;xxx&quot; type=&quot;text/x-template&quot;&gt; ... &lt;/script&gt;</code> 這樣的方式來封裝我們的 HTML 模板，這種方式通常被稱為「<code>X-Templates</code>」：</p> <div class="language-html line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/x-template<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>mediaBlock<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;media&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;media-body&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h5<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h5<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Lorem<span class="token punctuation">,</span> ipsum dolor<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>而子組件註冊的時候，我們就在原本的 template 屬性加上對應的 selector：</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br></div><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'MediaBlock'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  template<span class="token operator">:</span> <span class="token string">'#mediaBlock'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol> <h2 id="子組件的-data-必須是函式"><a href="#子組件的-data-必須是函式" class="header-anchor">#</a> 子組件的 data 必須是函式</h2> <p>若是想保留 <code>data</code> 屬性的初始狀態，又不希望引用全域變數造成 <code>data</code> 共用的污染，
則可以透過 <code>Object.assign</code> 與 <code>this.$options.data()</code> 重新指定組件內 <code>data</code> 的內容，
讓它回復到初始狀態：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>methods<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * 重置表單條件事件
   */</span>
  <span class="token function">resetFormHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>form<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="tryBox"><div class="tryBox__title">試一試</div> <div class="resetData"><form action="javascript:;"><div class="form-group row"><label for="name" class="col-2 col-form-label text-right">姓名</label> <div class="col-10"><input type="text" id="name" value="" class="form-control"></div></div> <div class="form-group row"><label for="city" class="col-2 col-form-label text-right">城市</label> <div class="col-10"><select id="city" class="form-control"><option disabled="disabled" value="">請選擇</option> <option>台北市</option> <option>台中市</option> <option>高雄市</option></select></div></div> <div class="form-group row"><label class="col-2 col-form-label text-right">性別</label> <div class="col-10"><div class="d-flex align-items-center h-100"><div class="form-check mr-3"><input type="radio" id="man" value="man" checked="checked" class="form-check-input"> <label for="man" class="form-check-label">男</label></div> <div class="form-check"><input type="radio" id="woman" value="woman" class="form-check-input"> <label for="woman" class="form-check-label">女</label></div></div></div></div> <div class="row"><div class="col-12 text-right"><button type="button" class="btn btn-secondary">重置</button></div></div></form></div></div> <h2 id="sync-修飾詞"><a href="#sync-修飾詞" class="header-anchor">#</a> <code>.sync</code> 修飾詞</h2> <p>欲修改父組件的資料，推薦使用 <code>update:myPropName</code>，如：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'update:title'</span><span class="token punctuation">,</span> newTitle<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>一般父組件的寫法：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text-document</span>
  <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>doc.title<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">@update:</span>title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>doc.title = $event<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text-document</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>使用 <code>.sync</code> 修飾詞：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text-document</span> <span class="token attr-name">:title.sync</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>doc.title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text-document</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如要傳遞多個 <code>prop</code> 的時候，可以將 <code>.sync</code> 和 <code>v-bind</code> 配合使用。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text-document</span> <span class="token attr-name">v-bind.sync</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>doc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text-document</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>這樣會把 <code>doc</code> 物件中的每一個屬性 (如 <code>title</code>) 都作為一個獨立的 <code>prop</code> 傳進去。</p> <h2 id="vm-emit"><a href="#vm-emit" class="header-anchor">#</a> <code>vm.$emit</code></h2> <p><img src="https://i.imgur.com/UBaAAoQ.png" alt="emit"></p> <h3 id="自定義事件"><a href="#自定義事件" class="header-anchor">#</a> 自定義事件</h3> <ol><li>子組件發出 <code>$emit</code> 夾帶 value</li> <li>父組件接收事件，而觸發綁定的函式</li></ol> <p><strong>父組件</strong></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>custom-checkbox</span> <span class="token attr-name">:item</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@changeHandler</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>toggleTodo<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> customCheckbox <span class="token keyword">from</span> <span class="token string">'./customCheckbox.vue'</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
      customCheckbox
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token function">toggleTodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token operator">...</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>子組件</strong></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>squaredFour<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
      <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>getID<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:checked</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.done<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleChange<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">:for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>getID<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>checkbox-icon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">:for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>getID<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ item.content }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    props<span class="token operator">:</span> <span class="token punctuation">{</span>
      item<span class="token operator">:</span> Object<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    computed<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">getID</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 為了解決 input 與 label 對應的 id</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">custom_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">9999</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">$event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// $emit 向上傳遞的 value 包成 object</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'changeHandler'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          key<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>item<span class="token punctuation">.</span>key<span class="token punctuation">,</span>
          <span class="token comment">// checked(done) 直接使用 chackbox 狀態</span>
          checked<span class="token operator">:</span> $event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/8/2020, 7:20:10 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vue-note/Methods/option.html" class="prev">
        vm.$options
      </a></span> <span class="next"><a href="/vue-note/Component/props.html">
        組件之間的溝通傳遞
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vue-note/assets/js/app.e8b69e61.js" defer></script><script src="/vue-note/assets/js/2.f6647d6e.js" defer></script><script src="/vue-note/assets/js/42.738ad309.js" defer></script><script src="/vue-note/assets/js/11.38d09ab9.js" defer></script><script src="/vue-note/assets/js/16.8410203c.js" defer></script>
  </body>
</html>

(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{411:function(e,a,s){e.exports=s.p+"assets/img/nuxt-lifecycle.f4dd59a1.svg"},512:function(e,a,s){"use strict";s.r(a);var t=s(46),n=Object(t.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"生命週期"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生命週期"}},[e._v("#")]),e._v(" 生命週期")]),e._v(" "),t("blockquote",[t("p",[e._v("參考官網的附圖")])]),e._v(" "),t("p",[t("img",{attrs:{src:s(411),alt:"nuxt-lifecycle"}})]),e._v(" "),t("p",[e._v("完整的生命週期說明可以參考 "),t("a",{attrs:{href:"https://nuxtjs.org/docs/2.x/concepts/nuxt-lifecycle",target:"_blank",rel:"noopener noreferrer"}},[e._v("官網說明"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("p",[e._v("下面整理個別發現的情境。")]),e._v(" "),t("h2",{attrs:{id:"非同步事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#非同步事件"}},[e._v("#")]),e._v(" 非同步事件")]),e._v(" "),t("p",[e._v("例如在 "),t("code",[e._v("pages")]),e._v(" 中使用呼叫非同步事件。")]),e._v(" "),t("h3",{attrs:{id:"server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#server"}},[e._v("#")]),e._v(" Server")]),e._v(" "),t("ul",[t("li",[e._v("asyncData - 暫停下來處理，等 "),t("code",[e._v("resolved")]),e._v(" 才交給 Vue 的生命週期")]),e._v(" "),t("li",[e._v("created - 不會暫停處理，"),t("strong",[e._v("會留給 client side")])]),e._v(" "),t("li",[e._v("fetch - 暫停下來處理，等 "),t("code",[e._v("resolved")]),e._v(" 才交給 Vue 的 "),t("code",[e._v("beforeMount")]),e._v(" 事件")])]),e._v(" "),t("p",[e._v("在 "),t("code",[e._v("asyncData")]),e._v(" 和 "),t("code",[e._v("fetch")]),e._v(" 中賦予 Vue instance 的狀態，透過檢視原始碼，可以看到被成功印出在 DOM 上，雖然 "),t("code",[e._v("created")]),e._v(" 事件也會執行 server side，但傳入的狀態只會寫在 "),t("code",[e._v("<script>")]),e._v(" 中。")]),e._v(" "),t("h3",{attrs:{id:"client"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#client"}},[e._v("#")]),e._v(" Client")]),e._v(" "),t("p",[e._v("如像路由的更換，不會觸發 server side 的事件。")]),e._v(" "),t("ul",[t("li",[e._v("asyncData - 暫停處理，等 "),t("code",[e._v("resolved")]),e._v(" 才交給 Vue 的生命週期")]),e._v(" "),t("li",[e._v("created - 如 Vue 的 "),t("code",[e._v("created")]),e._v(" 事件")]),e._v(" "),t("li",[e._v("fetch - "),t("strong",[e._v("不會暫停處理")])])]),e._v(" "),t("h2",{attrs:{id:"執行順序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#執行順序"}},[e._v("#")]),e._v(" 執行順序")]),e._v(" "),t("p",[e._v("假如專案的結構像下面這樣：")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("\n├── layouts\n│   └── default.vue\n├── components\n│   ├── LoadingBar.vue\n│   └── Logo.vue  # 會在 index.vue 中被引用\n└── pages\n    ├── index.vue\n    ├── about.vue\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br")])]),t("ul",[t("li",[e._v("layouts/default.vue：有 "),t("code",[e._v("fetch")]),e._v(" 事件")]),e._v(" "),t("li",[e._v("pages/about.vue：有 "),t("code",[e._v("asyncData")]),e._v(" 事件")])]),e._v(" "),t("h3",{attrs:{id:"在-index-vue-中重整"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在-index-vue-中重整"}},[e._v("#")]),e._v(" 在 "),t("code",[e._v("index.vue")]),e._v(" 中重整")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Nuxt SSR")]),e._v("\nloading bar created\ndefault layout created\ndefault layout fetch\npages index created\npages index fetch\nlogo fetch\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Client")]),e._v("\nloading bar created\ndefault layout created\npages index created\nloading bar mounted\nlogo mounted\npages index mounted\ndefault layout mounted\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br"),t("span",{staticClass:"line-number"},[e._v("16")]),t("br")])]),t("p",[t("code",[e._v("fetch")]),e._v(" 事件只會在 server side 被處理。")]),e._v(" "),t("h3",{attrs:{id:"在-about-vue-中重整"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在-about-vue-中重整"}},[e._v("#")]),e._v(" 在 "),t("code",[e._v("about.vue")]),e._v(" 中重整")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Nuxt SSR")]),e._v("\npages about asyncData\nloading bar created\ndefault layout created\ndefault layout fetch\npages about fetch\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Client")]),e._v("\nloading bar created\ndefault layout created\nloading bar mounted\npages about mounted\ndefault layout mounted\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br")])]),t("h3",{attrs:{id:"index-vue-前往-about-vue"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#index-vue-前往-about-vue"}},[e._v("#")]),e._v(" "),t("code",[e._v("index.vue")]),e._v(" 前往 "),t("code",[e._v("about.vue")])]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Client")]),e._v("\npages about asyncData\npages about fetch\npages about mounted\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);